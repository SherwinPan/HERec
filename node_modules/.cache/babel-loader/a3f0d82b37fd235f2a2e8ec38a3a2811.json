{"remainingRequest":"C:\\Users\\Sherwin\\Documents\\GitHub\\HERec\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Sherwin\\Documents\\GitHub\\HERec\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Sherwin\\Documents\\GitHub\\HERec\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Sherwin\\Documents\\GitHub\\HERec\\src\\pages\\personDetail.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Sherwin\\Documents\\GitHub\\HERec\\src\\pages\\personDetail.vue","mtime":1651862431527},{"path":"C:\\Users\\Sherwin\\Documents\\GitHub\\HERec\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1646917067899},{"path":"C:\\Users\\Sherwin\\Documents\\GitHub\\HERec\\node_modules\\babel-loader\\lib\\index.js","mtime":1646917103326},{"path":"C:\\Users\\Sherwin\\Documents\\GitHub\\HERec\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1646917067899},{"path":"C:\\Users\\Sherwin\\Documents\\GitHub\\HERec\\node_modules\\vue-loader\\lib\\index.js","mtime":1646917096669}],"contextDependencies":[],"result":["import \"core-js/modules/es6.number.constructor\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  props: {\n    pid: {\n      type: Number,\n      default: 0\n    }\n  },\n  name: \"personDetail\",\n  data: function data() {\n    return {\n      personInfo: {\n        personId: 0,\n        personName: '',\n        personBirth: '',\n        personPlace: '',\n        personGender: '',\n        personImg: '',\n        personBio: ''\n      },\n      isDirect: false,\n      directMovieList: [],\n      isActor: false,\n      actorMovieList: [],\n      loadImg: false\n    };\n  },\n  methods: {\n    getPersonInfo: function getPersonInfo() {\n      var _this = this;\n\n      this.$axios({\n        method: \"get\",\n        url: \"/getPersonByPersonId\",\n        params: {\n          pid: this.pid\n        }\n      }).then(function (res) {\n        if (res.data.result) {\n          _this.personInfo.personName = res.data.personInfo.personName;\n          _this.personInfo.personBirth = res.data.personInfo.personBirth;\n          _this.personInfo.personPlace = res.data.personInfo.personPlace;\n          _this.personInfo.personGender = res.data.personInfo.personGender;\n          _this.personInfo.personImg = res.data.personInfo.personImg;\n          _this.personInfo.personBio = res.data.personInfo.personBio;\n          _this.personInfo.personId = res.data.personInfo.personId;\n          _this.loadImg = true; // this.movieList=res.data.movieList\n        } else {\n          _this.$message.error('无此影人404');\n\n          _this.$router.go(-1);\n        }\n      });\n    },\n    //指导电影列表获取，同时获取得分\n    //参演电影列表获取\n    getDirectMovieListByPid: function getDirectMovieListByPid() {\n      var _this2 = this;\n\n      this.$axios({\n        method: \"get\",\n        url: '/getDirectMovieListByPid',\n        params: {\n          pid: this.pid\n        }\n      }).then(function (res) {\n        if (res.data.result) {\n          _this2.isDirect = true;\n          _this2.directMovieList = res.data.movieList;\n        } else {\n          _this2.isDirect = false;\n        }\n      });\n    },\n    getActMovieListByPid: function getActMovieListByPid() {\n      var _this3 = this;\n\n      this.$axios({\n        method: \"get\",\n        url: '/getActMovieListByPid',\n        params: {\n          pid: this.pid\n        }\n      }).then(function (res) {\n        if (res.data.result) {\n          _this3.isActor = true;\n          _this3.actorMovieList = res.data.movieList;\n        } else {\n          _this3.isDirect = false;\n        }\n      });\n    },\n    jumpPersonDetail: function jumpPersonDetail(pid) {\n      // console.log(\"jump\")\n      this.$router.push({\n        name: 'personDetail',\n        params: {\n          pid: parseInt(pid)\n        }\n      });\n    },\n    jumpMovieDetail: function jumpMovieDetail(mid) {\n      // console.log(\"jump\")\n      this.$router.push({\n        name: 'movieDetail',\n        params: {\n          mid: parseInt(mid)\n        }\n      });\n    },\n    modifyPerson: function modifyPerson(pid) {\n      this.$router.push({\n        name: 'modifyPerson',\n        params: {\n          pid: parseInt(pid)\n        }\n      });\n    }\n  },\n  created: function created() {\n    this.getPersonInfo();\n    this.getDirectMovieListByPid();\n    this.getActMovieListByPid();\n  },\n  watch: {\n    pid: function pid(newval, oldval) {\n      location.reload();\n    }\n  }\n};",{"version":3,"sources":["personDetail.vue"],"names":[],"mappings":"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","sourcesContent":["<template xmlns:el-col=\"http://www.w3.org/1999/html\">\r\n  <div class=\"personDetail\">\r\n    <el-row>\r\n      <el-col :span=\"12\" :offset=\"3\">\r\n        <div id=\"movieTitle\">\r\n          <h1>{{this.personInfo.personName}} <i v-if=\"$cookie.get('type')==0\" class=\"el-icon-s-tools\" @click=\"modifyPerson(pid)\" ></i></h1>\r\n        </div>\r\n      </el-col>\r\n    </el-row>\r\n    <el-row>\r\n      <el-col :span=\"2\" :offset=\"3\">\r\n        <div id=\"personImg\" style=\"background: #2c3e50\" >\r\n          <el-image v-if=\"loadImg\" :src=\"personInfo.personImg\" :fit=\"'scale-down'\"></el-image>\r\n        </div>\r\n      </el-col>\r\n      <el-col :span=\"7\" :offset=\"1\">\r\n        <div id=\" \">\r\n          <el-descriptions class=\"margin-top\" title=\"\" :column=\"1\">\r\n            <el-descriptions-item label=\"性别\" label-class-name=\"movieDirector\">\r\n              {{this.personInfo.personGender}}\r\n            </el-descriptions-item>\r\n            <el-descriptions-item label=\"生日\" label-class-name=\"movieActor\">\r\n              {{this.personInfo.personBirth}}\r\n            </el-descriptions-item>\r\n            <el-descriptions-item label=\"出生地\" label-class-name=\"movieDirector\">\r\n              {{this.personInfo.personPlace}}\r\n            </el-descriptions-item>\r\n          </el-descriptions>\r\n        </div>\r\n      </el-col>\r\n    </el-row>\r\n    <el-row>\r\n      <el-col :offset=\"3\" :span=\"15\">\r\n        <h4>影人简介</h4>\r\n        {{this.personInfo.personBio}}\r\n      </el-col>\r\n    </el-row>\r\n    <el-row>\r\n      <el-col :offset=\"3\" :span=\"15\" >\r\n        <h2 v-if=\"this.isDirect\" style=\"color: #007722\">指导电影</h2>\r\n        <el-table v-if=\"this.isDirect\" :data=\"directMovieList\" style=\" width: auto;\">\r\n          <el-table-column type=\"expand\">\r\n            <template v-slot=\"props\">\r\n              <el-row>\r\n                <el-col :span=\"10\" :offset=\"2\">\r\n                  <div id=\"movieInfo\">\r\n                    <el-descriptions class=\"margin-top\" title=\"\" :column=\"1\">\r\n                      <el-descriptions-item label=\"导演\">\r\n                        <div v-for=\"d in props.row.director\" @click=\"jumpPersonDetail(d.directorIdOld)\">\r\n                          {{d.personName}}\r\n                        </div>\r\n                      </el-descriptions-item>\r\n                      <el-descriptions-item label=\"主演\">\r\n                        <div v-for=\"a in props.row.actor\" @click=\"jumpPersonDetail(a.actorIdOld)\">\r\n                          {{a.personName}}\r\n                        </div>\r\n                      </el-descriptions-item>\r\n                      <el-descriptions-item label=\"类型\">\r\n                        <el-tag size=\"small\" v-for=\"t in props.row.type\">{{t}}</el-tag>\r\n                      </el-descriptions-item>\r\n                      <el-descriptions-item label=\"语言\">{{ props.row.movieLang }}</el-descriptions-item>\r\n                      <el-descriptions-item label=\"电影时长\">{{ props.row.movieTime }}</el-descriptions-item>\r\n                      <el-descriptions-item label=\"电影上映日期\">{{ props.row.movieRelDate }}</el-descriptions-item>\r\n                    </el-descriptions>\r\n                  </div>\r\n                </el-col>\r\n                <el-col :span=\"8\" :offset=\"2\">\r\n                  <el-image lazy style=\"height: 15em\"\r\n                            :src=\"'http://127.0.0.1:8000/media/'+props.row.movieImg\" class=\"carouselImg\" :fit=\"'scale-down'\"\r\n                            @click=\"jumpMovieDetail(props.row.movieId)\"></el-image>\r\n                </el-col>\r\n              </el-row>\r\n              <el-row>\r\n                <el-col :span=\"20\" :offset=\"2\">\r\n                  <div>\r\n                    <el-descriptions class=\"margin-top\" title=\"\" :column=\"1\">\r\n                      <el-descriptions-item label=\"电影简介\">{{ props.row.movieBio }}</el-descriptions-item>\r\n                    </el-descriptions>\r\n                  </div>\r\n                </el-col>\r\n              </el-row>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column prop=\"movieName\" label=\"电影名\"width=\"600\"></el-table-column>\r\n          <el-table-column prop=\"score\" label=\"电影评分\"width=\"80\"></el-table-column>\r\n        </el-table>\r\n        <h2 v-if=\"this.isActor\" style=\"color: #007722;margin-top: 1em\">参演电影</h2>\r\n        <el-table v-if=\"this.isActor\" :data=\"actorMovieList\" style=\" width: auto;\">\r\n          <el-table-column type=\"expand\">\r\n            <template v-slot=\"props\">\r\n              <el-row>\r\n                <el-col :span=\"10\" :offset=\"2\">\r\n                  <div id=\"\">\r\n                    <el-descriptions class=\"margin-top\" title=\"\" :column=\"1\">\r\n                      <el-descriptions-item label=\"导演\">\r\n                        <div v-for=\"d in props.row.director\" @click=\"jumpPersonDetail(d.directorIdOld)\">\r\n                          {{d.personName}}\r\n                        </div>\r\n                      </el-descriptions-item>\r\n                      <el-descriptions-item label=\"主演\">\r\n                        <div v-for=\"a in props.row.actor\" @click=\"jumpPersonDetail(a.actorIdOld)\">\r\n                          {{a.personName}}\r\n                        </div>\r\n                      </el-descriptions-item>\r\n                      <el-descriptions-item label=\"类型\">\r\n                        <el-tag size=\"small\" v-for=\"t in props.row.type\">{{t}}</el-tag>\r\n                      </el-descriptions-item>\r\n                      <el-descriptions-item label=\"语言\">{{ props.row.movieLang }}</el-descriptions-item>\r\n                      <el-descriptions-item label=\"电影时长\">{{ props.row.movieTime }}</el-descriptions-item>\r\n                      <el-descriptions-item label=\"电影上映日期\">{{ props.row.movieRelDate }}</el-descriptions-item>\r\n                    </el-descriptions>\r\n                  </div>\r\n                </el-col>\r\n                <el-col :span=\"8\" :offset=\"2\">\r\n                  <el-image lazy  style=\"height: 15em\"\r\n                            :src=\"'http://127.0.0.1:8000/media/'+props.row.movieImg\" :fit=\"'scale-down'\"\r\n                            @click=\"jumpMovieDetail(props.row.movieId)\">\r\n\r\n                  </el-image>\r\n                </el-col>\r\n              </el-row>\r\n              <el-row>\r\n                <el-col :span=\"20\" :offset=\"2\">\r\n                  <div>\r\n                    <el-descriptions class=\"margin-top\" title=\"\" :column=\"1\">\r\n                      <el-descriptions-item label=\"电影简介\">{{ props.row.movieBio }}</el-descriptions-item>\r\n                    </el-descriptions>\r\n                  </div>\r\n                </el-col>\r\n              </el-row>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column prop=\"movieName\" label=\"电影名\"width=\"600\"></el-table-column>\r\n          <el-table-column prop=\"score\" label=\"电影评分\"width=\"80\"></el-table-column>\r\n        </el-table>\r\n      </el-col>\r\n    </el-row>\r\n\r\n\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    pid: {\r\n      type: Number,\r\n      default: 0\r\n    }\r\n  },\r\n  name: \"personDetail\",\r\n  data(){\r\n    return{\r\n      personInfo:{\r\n        personId:0,\r\n        personName:'',\r\n        personBirth:'',\r\n        personPlace:'',\r\n        personGender:'',\r\n        personImg:'',\r\n        personBio:'',\r\n      },\r\n      isDirect:false,\r\n      directMovieList:[],\r\n      isActor:false,\r\n      actorMovieList:[],\r\n      loadImg:false,\r\n    };\r\n  },\r\n  methods:{\r\n    getPersonInfo(){\r\n      this.$axios({\r\n        method:\"get\",\r\n        url:\"/getPersonByPersonId\",\r\n        params:{\r\n          pid:this.pid,\r\n        }\r\n      }).then(res=>{\r\n        if (res.data.result){\r\n          this.personInfo.personName=res.data.personInfo.personName\r\n          this.personInfo.personBirth=res.data.personInfo.personBirth\r\n          this.personInfo.personPlace=res.data.personInfo.personPlace\r\n          this.personInfo.personGender=res.data.personInfo.personGender\r\n          this.personInfo.personImg=res.data.personInfo.personImg\r\n          this.personInfo.personBio=res.data.personInfo.personBio\r\n          this.personInfo.personId=res.data.personInfo.personId\r\n          this.loadImg=true\r\n          // this.movieList=res.data.movieList\r\n        }else{\r\n          this.$message.error('无此影人404');\r\n          this.$router.go(-1);\r\n        }\r\n      })\r\n    },\r\n    //指导电影列表获取，同时获取得分\r\n    //参演电影列表获取\r\n    getDirectMovieListByPid(){\r\n      this.$axios({\r\n        method:\"get\",\r\n        url:'/getDirectMovieListByPid',\r\n        params:{\r\n          pid:this.pid\r\n        }\r\n      }).then(res=>{\r\n        if(res.data.result){\r\n          this.isDirect=true\r\n          this.directMovieList=res.data.movieList\r\n        }else{\r\n          this.isDirect=false\r\n        }\r\n      })\r\n    },\r\n    getActMovieListByPid(){\r\n      this.$axios({\r\n        method:\"get\",\r\n        url:'/getActMovieListByPid',\r\n        params:{\r\n          pid:this.pid\r\n        }\r\n      }).then(res=>{\r\n        if(res.data.result){\r\n          this.isActor=true\r\n          this.actorMovieList=res.data.movieList\r\n        }else{\r\n          this.isDirect=false\r\n        }\r\n      })\r\n    },\r\n    jumpPersonDetail(pid){\r\n      // console.log(\"jump\")\r\n      this.$router.push({name:'personDetail',params:{pid:parseInt(pid)}});\r\n    },\r\n    jumpMovieDetail(mid){\r\n      // console.log(\"jump\")\r\n      this.$router.push({name:'movieDetail',params:{mid:parseInt(mid)}});\r\n    },\r\n    modifyPerson(pid){\r\n      this.$router.push({name:'modifyPerson',params:{pid:parseInt(pid)}})\r\n    }\r\n\r\n  },\r\n  created() {\r\n    this.getPersonInfo()\r\n    this.getDirectMovieListByPid()\r\n    this.getActMovieListByPid()\r\n  },\r\n  watch:{\r\n    pid:function (newval,oldval){\r\n      location.reload()\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.personDetail{\r\n\r\n}\r\n</style>"],"sourceRoot":"src/pages"}]}