{"remainingRequest":"C:\\Users\\Sherwin\\Documents\\GitHub\\HERec\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Sherwin\\Documents\\GitHub\\HERec\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Sherwin\\Documents\\GitHub\\HERec\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Sherwin\\Documents\\GitHub\\HERec\\src\\components\\Headermenu.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Sherwin\\Documents\\GitHub\\HERec\\src\\components\\Headermenu.vue","mtime":1651863917647},{"path":"C:\\Users\\Sherwin\\Documents\\GitHub\\HERec\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1646917067899},{"path":"C:\\Users\\Sherwin\\Documents\\GitHub\\HERec\\node_modules\\babel-loader\\lib\\index.js","mtime":1646917103326},{"path":"C:\\Users\\Sherwin\\Documents\\GitHub\\HERec\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1646917067899},{"path":"C:\\Users\\Sherwin\\Documents\\GitHub\\HERec\\node_modules\\vue-loader\\lib\\index.js","mtime":1646917096669}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: 'Headermenu',\n  data: function data() {\n    return {\n      activeIndex: '1',\n      userName: '',\n      type: 1\n    };\n  },\n  methods: {\n    logout: function logout() {\n      this.$cookie.remove('userId');\n      this.$cookie.remove('type');\n      location.reload();\n      this.$message({\n        message: '退出成功',\n        type: 'warning'\n      });\n    }\n  },\n  created: function created() {\n    var _this = this;\n\n    if (this.$cookie.get('userId')) {\n      this.$axios({\n        method: \"get\",\n        url: '/getUserNameByUid',\n        params: {\n          uid: this.$cookie.get('userId')\n        }\n      }).then(function (res) {\n        if (res.data.result) {\n          _this.userName = res.data.userName;\n          _this.type = res.data.type;\n        } else {}\n      });\n    }\n  }\n};",{"version":3,"sources":["Headermenu.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0CA,eAAA;AACA,EAAA,IAAA,EAAA,YADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,WAAA,EAAA,GADA;AAEA,MAAA,QAAA,EAAA,EAFA;AAGA,MAAA,IAAA,EAAA;AAHA,KAAA;AAKA,GARA;AASA,EAAA,OAAA,EAAA;AACA,IAAA,MADA,oBACA;AACA,WAAA,OAAA,CAAA,MAAA,CAAA,QAAA;AACA,WAAA,OAAA,CAAA,MAAA,CAAA,MAAA;AACA,MAAA,QAAA,CAAA,MAAA;AACA,WAAA,QAAA,CAAA;AACA,QAAA,OAAA,EAAA,MADA;AAEA,QAAA,IAAA,EAAA;AAFA,OAAA;AAIA;AATA,GATA;AAoBA,EAAA,OApBA,qBAoBA;AAAA;;AACA,QAAA,KAAA,OAAA,CAAA,GAAA,CAAA,QAAA,CAAA,EAAA;AACA,WAAA,MAAA,CAAA;AACA,QAAA,MAAA,EAAA,KADA;AAEA,QAAA,GAAA,EAAA,mBAFA;AAGA,QAAA,MAAA,EAAA;AACA,UAAA,GAAA,EAAA,KAAA,OAAA,CAAA,GAAA,CAAA,QAAA;AADA;AAHA,OAAA,EAMA,IANA,CAMA,UAAA,GAAA,EAAA;AACA,YAAA,GAAA,CAAA,IAAA,CAAA,MAAA,EAAA;AACA,UAAA,KAAA,CAAA,QAAA,GAAA,GAAA,CAAA,IAAA,CAAA,QAAA;AACA,UAAA,KAAA,CAAA,IAAA,GAAA,GAAA,CAAA,IAAA,CAAA,IAAA;AACA,SAHA,MAGA,CAEA;AACA,OAbA;AAcA;AACA;AArCA,CAAA","sourcesContent":["<template>\r\n\t<div id=\"headermenu\">\r\n\t\t<el-menu style=\"top:20px;flex-wrap: nowrap;\" :default-active=\"activeIndex\" class=\"el-menu-demo\"\r\n\t\t\tmode=\"horizontal\" background-color=\"#f0f6ee\" text-color=\"#422517\" active-text-color=\"#4f6f46\" >\r\n\t\t\t<el-menu-item index=\"1\">\r\n\t\t\t\t<router-link to=\"/rec\">首页</router-link>\r\n\t\t\t</el-menu-item>\r\n\t\t\t<el-submenu index=\"2\">\r\n\t\t\t\t<template slot=\"title\">榜单</template>\r\n\t\t\t\t<el-menu-item index=\"2-1\">最新电影</el-menu-item>\r\n\t\t\t\t<el-menu-item index=\"2-2\">上新热门</el-menu-item>\r\n\t\t\t\t<el-menu-item index=\"2-3\">经典排行</el-menu-item>\r\n\t\t\t\t<el-submenu v-if=\"type==0\" index=\"2-4\">\r\n\t\t\t\t\t<template slot=\"title\">管理人员操作</template>\r\n\t\t\t\t\t<el-menu-item index=\"2-4-1\"><router-link to=\"/createMovie\">添加电影</router-link></el-menu-item>\r\n\t\t\t\t\t<el-menu-item index=\"2-4-2\"><router-link to=\"/createPerson\">添加影人</router-link></el-menu-item>\r\n\t\t\t\t\t<el-menu-item index=\"2-4-3\">人员管理</el-menu-item>\r\n\t\t\t\t</el-submenu>\r\n\t\t\t</el-submenu>\r\n\t\t\t<el-menu-item index=\"3\">猜你喜欢</el-menu-item>\r\n      <el-submenu index=\"4\" v-if=\"this.$cookie.get('userId')\">\r\n          <template slot=\"title\">{{ this.userName }}</template>\r\n          <el-menu-item index=\"4-1\">\r\n            <router-link to=\"/me\">个人中心</router-link>\r\n          </el-menu-item>\r\n          <el-menu-item index=\"4-2\" @click=\"logout()\">退出登录</el-menu-item>\r\n      </el-submenu>\r\n      <el-menu-item index=\"4\" v-else>\r\n\t\t\t\t\t<!-- 否则显示登录注册 -->\r\n\t\t\t\t\t<router-link to='/log'>登录/注册</router-link>\r\n      </el-menu-item>\r\n\r\n\r\n\r\n\t\t</el-menu><br /><br /><br />\r\n\r\n\r\n\t</div>\r\n\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tname: 'Headermenu',\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tactiveIndex: '1',\r\n        userName:'',\r\n        type:1,\r\n\t\t\t};\r\n\t\t},\r\n    methods:{\r\n      logout(){\r\n        this.$cookie.remove('userId');\r\n        this.$cookie.remove('type');\r\n        location.reload();\r\n        this.$message({\r\n          message: '退出成功',\r\n          type: 'warning'\r\n        });\r\n      },\r\n    },\r\n    created() {\r\n      if(this.$cookie.get('userId')){\r\n       this.$axios({\r\n         method:\"get\",\r\n         url:'/getUserNameByUid',\r\n         params:{\r\n           uid:this.$cookie.get('userId')\r\n         },\r\n       }).then(res=>{\r\n         if (res.data.result){\r\n           this.userName=res.data.userName\r\n           this.type=res.data.type\r\n         }else{\r\n\r\n         }\r\n       })\r\n      }\r\n    },\r\n  }\r\n</script>\r\n\r\n<style>\r\n\t#headermenu {}\r\n\r\n\ta {\r\n\t\ttext-decoration: none;\r\n\t}\r\n</style>\r\n"],"sourceRoot":"src/components"}]}